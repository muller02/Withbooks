<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/newtil-css@0.1.47/dist/style.css"/>
    <link rel="stylesheet" type="text/css" href="/css/util/background-color.css"/>
    <link rel="stylesheet" type="text/css" href="/css/var.css"/>
    <link rel="stylesheet" type="text/css" href="/css/util/color.css"/>
    <link rel="stylesheet" type="text/css" href="/css/withtil.css"/>

    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.0-rc.3/dist/quill.snow.css" rel="stylesheet"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.0-rc.3/dist/quill.js"></script>
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"/>
    <title>Document</title>
    <script src="/js/shorts/reg.js"></script>

    <script>

        window.onload = function () {

            var textArea = document.getElementById("text-area");
            <!-- Initialize Quill editor -->
            const quill = new Quill('#editor', {
                modules: {
                    syntax: true,
                    toolbar: '#toolbar-container',
                },
                placeholder: 'Compose an epic...',
                theme: 'snow',
            });

            var btn = document.getElementById("btn");
            btn.onclick = function (e) {
                // e.preventDefault();
                // console.log("text = ",quill.getText());
                // console.log("HTML = ", quill.getSemanticHTML());
                // var p = document.getElementById("p");
                // p.innerHTML= quill.getSemanticHTML();
                // console.log(p.value);

                textArea.innerHTML = quill.getSemanticHTML();
                console.log(textArea.innerText);


            }

        }

    </script>
    <style>
        .form-group img{
            height: 100px;
        }
        .form-group {

            scroll-behavior: smooth;
            overflow-x: scroll;

        }

        .form-group::-webkit-scrollbar {

            width: 2px;
            height: 8px;

        }

        .form-group::-webkit-scrollbar-thumb {

            background: var(--color-base-5);
            border-radius: 12px;
        }

        .form-group::-webkit-scrollbar-track {
            background: rgba(246, 246, 247, 0.1); /*�ㅽ겕濡ㅻ컮 �� 諛곌꼍 �됱긽*/
        }


    </style>


</head>

<body>
    <!-- <script>

        var input = document.querySelector("input[type='file']");
        var btn = document.querySelector(".n-btn");

        btn.onclick = function(e){
            e.preventDefault();
            alert('안녕하세요');
        }
    
    </script> -->
    <main class="h:100p  mx:4 mb:3 ">
        <section class="h:100p">
            <h1 class="d:none">폼</h1>
                <form class="h:100p book-short-reg " method="post" enctype="multipart/form-data" action="/shorts/reg">
                    <div class="d:flex jc:end">
                        <button type="submit" id="btn" class="n-btn mt:3 bg-color:main-5">등록</button>
                    </div>
                    <textarea id="text-area" name="text-area" class="d:none"></textarea>
                    <input type="text"
                        class="n-textbox n-textbox-type:outline n-textbox-status:disabled text-align:center mt:3 mr:2 fw:3 "
                        placeholder="도둑맞은 집중력" th:placeholder="${param.n}"/>
                    <input type="hidden" name="bookId" th:value="${param.b}">
                    <input type="hidden" name="bookName" th:value="${param.n}">


                    <div class="form-group d:flex mt:3  ">
                        <div class="bg-color:base-2 w:3 h:3 d:flex jc:center ai:center bd-radius:4	  flex-shrink:0 mr:3 mb:2 ">
                            <!-- <label class="form-label-file d:flex  jc:center ai:center"> -->
                                <label class="w:3 h:3 ">
                                <span class="icon icon:plus icon-color:base-9"></span>
                                파일
                                <input type="file" multiple="multiple" name="files" accept="image/*" class="d:none img-input" >
                                </label>
                                <!-- <input class="form-control form-control-user d:none" type="file" multiple="multiple"
                                    name="files" id="files" onchange="setDetailImage(event);"> -->
                            <!-- </label> -->
                        </div>
                        <div class="w:100p bd-radius:4 d:flex flex-grow:1 preview-panel">
                        </div>
                    </div>


                    <div id="toolbar-container">
                            <span class="ql-formats">
                                <select class="ql-font"></select>
                                <select class="ql-size"></select>
                            </span>
                        <span class="ql-formats">
                            <button class="ql-bold"></button>
                            <button class="ql-italic"></button>
                            <button class="ql-underline"></button>
                            <button class="ql-strike"></button>
                            </span>
                        <span class="ql-formats">
                            <select class="ql-color"></select>
                            <select class="ql-background"></select>
                            </span>

                    </div>
                    <div id="editor">


                    </div>
                    <!--        <textarea type="text" name="content" class="n-textbox n-textbox-type:outline mt:2 bd:0	" placeholder="내용을 입력하세요 !" ></textarea>-->
                </form>
            </section>
        </div>

</main>
<script>


    var i = 0;
    var picCount = document.querySelector(".pic-count");

    function setDetailImage(event) {
        if (i < 5) {
            for (var image of event.target.files) {
                var reader = new FileReader();

                reader.onload = function (event) {
                    var img = document.createElement("img");
                    img.setAttribute("src", event.target.result);
                    img.setAttribute("class", "mr:3 " + " w:3" + " h:3" + " bd-radius:4");

                    document.querySelector("div#images_container").appendChild(img);
                };

                console.log(image);
                reader.readAsDataURL(image);
                i++;
            }
        }

    }


</script>

</body>

</html>
